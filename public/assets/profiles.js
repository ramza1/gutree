/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */
(function(e){function t(t){var n=t||window.event,i=[].slice.call(arguments,1),s=0,o=0,r=0;return t=e.event.fix(n),t.type="mousewheel",n.wheelDelta&&(s=n.wheelDelta/120),n.detail&&(s=-n.detail/3),r=s,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(r=0,o=-1*s),void 0!==n.wheelDeltaY&&(r=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(o=-1*n.wheelDeltaX/120),i.unshift(t,s,o,r),(e.event.dispatch||e.event.handle).apply(this,i)}var n=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var i=n.length;i;)e.event.fixHooks[n[--i]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})(jQuery),function(e){function t(){this===s.elem&&(s.pos=[-260,-260],s.elem=!1,o=3)}var n,i,s={pos:[-260,-260]},o=3,r=document,a=r.documentElement,l=r.body;e.event.special.mwheelIntent={setup:function(){var n=e(this).bind("mousewheel",e.event.special.mwheelIntent.handler);return this!==r&&this!==a&&this!==l&&n.bind("mouseleave",t),n=null,!0},teardown:function(){return e(this).unbind("mousewheel",e.event.special.mwheelIntent.handler).unbind("mouseleave",t),!0},handler:function(t){var r=[t.clientX,t.clientY];return this===s.elem||Math.abs(s.pos[0]-r[0])>o||Math.abs(s.pos[1]-r[1])>o?(s.elem=this,s.pos=r,o=250,clearTimeout(i),i=setTimeout(function(){o=10},200),clearTimeout(n),n=setTimeout(function(){o=3},1500),t=e.extend({},t,{type:"mwheelIntent"}),e.event.handle.apply(this,arguments)):void 0}},e.fn.extend({mwheelIntent:function(e){return e?this.bind("mwheelIntent",e):this.trigger("mwheelIntent")},unmwheelIntent:function(e){return this.unbind("mwheelIntent",e)}}),e(function(){l=r.body,e(r).bind("mwheelIntent.mwheelIntentDefault",e.noop)})}(jQuery),/*
 * jScrollPane - v2.0.0beta12 - 2012-09-27
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2010 Kelvin Luck
 * Dual licensed under the MIT or GPL licenses.
 */
function(e,t,n){e.fn.jScrollPane=function(i){function s(i,s){function o(t){var s,a,c,d,h,p,g=!1,v=!1;if(F=t,U===n)h=i.scrollTop(),p=i.scrollLeft(),i.css({overflow:"hidden",padding:0}),q=i.innerWidth()+bt,W=i.innerHeight(),i.width(q),U=e('<div class="jspPane" />').css("padding",yt).append(i.children()),z=e('<div class="jspContainer" />').css({width:q+"px",height:W+"px"}).append(U).appendTo(i);else{if(i.css("width",""),g=F.stickToBottom&&k(),v=F.stickToRight&&A(),d=i.innerWidth()+bt!=q||i.outerHeight()!=W,d&&(q=i.innerWidth()+bt,W=i.innerHeight(),z.css({width:q+"px",height:W+"px"})),!d&&Tt==V&&U.outerHeight()==G)return i.width(q),void 0;Tt=V,U.css("width",""),i.width(q),z.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}U.css("overflow","auto"),V=t.contentWidth?t.contentWidth:U[0].scrollWidth,G=U[0].scrollHeight,U.css("overflow",""),X=V/q,Y=G/W,J=Y>1,Q=X>1,Q||J?(i.addClass("jspScrollable"),s=F.maintainPosition&&(et||it),s&&(a=S(),c=E()),r(),l(),u(),s&&(x(v?V-q:a,!1),C(g?G-W:c,!1)),N(),D(),B(),F.enableKeyboardNavigation&&P(),F.clickOnTrack&&f(),$(),F.hijackInternalLinks&&L()):(i.removeClass("jspScrollable"),U.css({top:0,width:z.width()-bt}),j(),M(),R(),m()),F.autoReinitialise&&!vt?vt=setInterval(function(){o(F)},F.autoReinitialiseDelay):!F.autoReinitialise&&vt&&clearInterval(vt),h&&i.scrollTop(0)&&C(h,!1),p&&i.scrollLeft(0)&&x(p,!1),i.trigger("jsp-initialised",[Q||J])}function r(){J&&(z.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />'))),st=z.find(">.jspVerticalBar"),ot=st.find(">.jspTrack"),K=ot.find(">.jspDrag"),F.showArrows&&(ct=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",h(0,-1)).bind("click.jsp",I),ut=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",h(0,1)).bind("click.jsp",I),F.arrowScrollOnHover&&(ct.bind("mouseover.jsp",h(0,-1,ct)),ut.bind("mouseover.jsp",h(0,1,ut))),d(ot,F.verticalArrowPositions,ct,ut)),at=W,z.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){at-=e(this).outerHeight()}),K.hover(function(){K.addClass("jspHover")},function(){K.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",I),K.addClass("jspActive");var n=t.pageY-K.position().top;return e("html").bind("mousemove.jsp",function(e){v(e.pageY-n,!1)}).bind("mouseup.jsp mouseleave.jsp",g),!1}),a())}function a(){ot.height(at+"px"),et=0,rt=F.verticalGutter+ot.outerWidth(),U.width(q-rt-bt);try{0===st.position().left&&U.css("margin-left",rt+"px")}catch(e){}}function l(){Q&&(z.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />'))),dt=z.find(">.jspHorizontalBar"),ht=dt.find(">.jspTrack"),tt=ht.find(">.jspDrag"),F.showArrows&&(mt=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",h(-1,0)).bind("click.jsp",I),gt=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",h(1,0)).bind("click.jsp",I),F.arrowScrollOnHover&&(mt.bind("mouseover.jsp",h(-1,0,mt)),gt.bind("mouseover.jsp",h(1,0,gt))),d(ht,F.horizontalArrowPositions,mt,gt)),tt.hover(function(){tt.addClass("jspHover")},function(){tt.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",I),tt.addClass("jspActive");var n=t.pageX-tt.position().left;return e("html").bind("mousemove.jsp",function(e){b(e.pageX-n,!1)}).bind("mouseup.jsp mouseleave.jsp",g),!1}),pt=z.innerWidth(),c())}function c(){z.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){pt-=e(this).outerWidth()}),ht.width(pt+"px"),it=0}function u(){if(Q&&J){var t=ht.outerHeight(),n=ot.outerWidth();at-=t,e(dt).find(">.jspCap:visible,>.jspArrow").each(function(){pt+=e(this).outerWidth()}),pt-=n,W-=n,q-=t,ht.parent().append(e('<div class="jspCorner" />').css("width",t+"px")),a(),c()}Q&&U.width(z.outerWidth()-bt+"px"),G=U.outerHeight(),Y=G/W,Q&&(ft=Math.ceil(1/X*pt),ft>F.horizontalDragMaxWidth?ft=F.horizontalDragMaxWidth:F.horizontalDragMinWidth>ft&&(ft=F.horizontalDragMinWidth),tt.width(ft+"px"),nt=pt-ft,T(it)),J&&(lt=Math.ceil(1/Y*at),lt>F.verticalDragMaxHeight?lt=F.verticalDragMaxHeight:F.verticalDragMinHeight>lt&&(lt=F.verticalDragMinHeight),K.height(lt+"px"),Z=at-lt,y(et))}function d(e,t,n,i){var s,o="before",r="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==o?r=t:t==r&&(o=t,s=n,n=i,i=s),e[o](n)[r](i)}function h(e,t,n){return function(){return p(e,t,this,n),this.blur(),!1}}function p(t,n,i,s){i=e(i).addClass("jspActive");var o,r,a=!0,l=function(){0!==t&&_t.scrollByX(t*F.arrowButtonSpeed),0!==n&&_t.scrollByY(n*F.arrowButtonSpeed),r=setTimeout(l,a?F.initialDelay:F.arrowRepeatFreq),a=!1};l(),o=s?"mouseout.jsp":"mouseup.jsp",s=s||e("html"),s.bind(o,function(){i.removeClass("jspActive"),r&&clearTimeout(r),r=null,s.unbind(o)})}function f(){m(),J&&ot.bind("mousedown.jsp",function(t){if(t.originalTarget===n||t.originalTarget==t.currentTarget){var i,s=e(this),o=s.offset(),r=t.pageY-o.top-et,a=!0,l=function(){var e=s.offset(),n=t.pageY-e.top-lt/2,o=W*F.scrollPagePercent,u=Z*o/(G-W);if(0>r)et-u>n?_t.scrollByY(-o):v(n);else{if(!(r>0))return c(),void 0;n>et+u?_t.scrollByY(o):v(n)}i=setTimeout(l,a?F.initialDelay:F.trackClickRepeatFreq),a=!1},c=function(){i&&clearTimeout(i),i=null,e(document).unbind("mouseup.jsp",c)};return l(),e(document).bind("mouseup.jsp",c),!1}}),Q&&ht.bind("mousedown.jsp",function(t){if(t.originalTarget===n||t.originalTarget==t.currentTarget){var i,s=e(this),o=s.offset(),r=t.pageX-o.left-it,a=!0,l=function(){var e=s.offset(),n=t.pageX-e.left-ft/2,o=q*F.scrollPagePercent,u=nt*o/(V-q);if(0>r)it-u>n?_t.scrollByX(-o):b(n);else{if(!(r>0))return c(),void 0;n>it+u?_t.scrollByX(o):b(n)}i=setTimeout(l,a?F.initialDelay:F.trackClickRepeatFreq),a=!1},c=function(){i&&clearTimeout(i),i=null,e(document).unbind("mouseup.jsp",c)};return l(),e(document).bind("mouseup.jsp",c),!1}})}function m(){ht&&ht.unbind("mousedown.jsp"),ot&&ot.unbind("mousedown.jsp")}function g(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),K&&K.removeClass("jspActive"),tt&&tt.removeClass("jspActive")}function v(e,t){J&&(0>e?e=0:e>Z&&(e=Z),t===n&&(t=F.animateScroll),t?_t.animate(K,"top",e,y):(K.css("top",e),y(e)))}function y(e){e===n&&(e=K.position().top),z.scrollTop(0),et=e;var t=0===et,s=et==Z,o=e/Z,r=-o*(G-W);(wt!=t||xt!=s)&&(wt=t,xt=s,i.trigger("jsp-arrow-change",[wt,xt,Ct,Ot])),_(t,s),U.css("top",r),i.trigger("jsp-scroll-y",[-r,t,s]).trigger("scroll")}function b(e,t){Q&&(0>e?e=0:e>nt&&(e=nt),t===n&&(t=F.animateScroll),t?_t.animate(tt,"left",e,T):(tt.css("left",e),T(e)))}function T(e){e===n&&(e=tt.position().left),z.scrollTop(0),it=e;var t=0===it,s=it==nt,o=e/nt,r=-o*(V-q);(Ct!=t||Ot!=s)&&(Ct=t,Ot=s,i.trigger("jsp-arrow-change",[wt,xt,Ct,Ot])),w(t,s),U.css("left",r),i.trigger("jsp-scroll-x",[-r,t,s]).trigger("scroll")}function _(e,t){F.showArrows&&(ct[e?"addClass":"removeClass"]("jspDisabled"),ut[t?"addClass":"removeClass"]("jspDisabled"))}function w(e,t){F.showArrows&&(mt[e?"addClass":"removeClass"]("jspDisabled"),gt[t?"addClass":"removeClass"]("jspDisabled"))}function C(e,t){var n=e/(G-W);v(n*Z,t)}function x(e,t){var n=e/(V-q);b(n*nt,t)}function O(t,n,i){var s,o,r,a,l,c,u,d,h,p=0,f=0;try{s=e(t)}catch(m){return}for(o=s.outerHeight(),r=s.outerWidth(),z.scrollTop(0),z.scrollLeft(0);!s.is(".jspPane");)if(p+=s.position().top,f+=s.position().left,s=s.offsetParent(),/^body|html$/i.test(s[0].nodeName))return;a=E(),c=a+W,a>p||n?d=p-F.verticalGutter:p+o>c&&(d=p-W+o+F.verticalGutter),d&&C(d,i),l=S(),u=l+q,l>f||n?h=f-F.horizontalGutter:f+r>u&&(h=f-q+r+F.horizontalGutter),h&&x(h,i)}function S(){return-U.position().left}function E(){return-U.position().top}function k(){var e=G-W;return e>20&&10>e-E()}function A(){var e=V-q;return e>20&&10>e-S()}function D(){z.unbind(Et).bind(Et,function(e,t,n,i){var s=it,o=et;return _t.scrollBy(n*F.mouseWheelSpeed,-i*F.mouseWheelSpeed,!1),s==it&&o==et})}function j(){z.unbind(Et)}function I(){return!1}function N(){U.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){O(e.target,!1)})}function M(){U.find(":input,a").unbind("focus.jsp")}function P(){function t(){var e=it,t=et;switch(n){case 40:_t.scrollByY(F.keyboardSpeed,!1);break;case 38:_t.scrollByY(-F.keyboardSpeed,!1);break;case 34:case 32:_t.scrollByY(W*F.scrollPagePercent,!1);break;case 33:_t.scrollByY(-W*F.scrollPagePercent,!1);break;case 39:_t.scrollByX(F.keyboardSpeed,!1);break;case 37:_t.scrollByX(-F.keyboardSpeed,!1)}return s=e!=it||t!=et}var n,s,o=[];Q&&o.push(dt[0]),J&&o.push(st[0]),U.focus(function(){i.focus()}),i.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(i){if(i.target===this||o.length&&e(i.target).closest(o).length){var r=it,a=et;switch(i.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:n=i.keyCode,t();break;case 35:C(G-W),n=null;break;case 36:C(0),n=null}return s=i.keyCode==n&&r!=it||a!=et,!s}}).bind("keypress.jsp",function(e){return e.keyCode==n&&t(),!s}),F.hideFocus?(i.css("outline","none"),"hideFocus"in z[0]&&i.attr("hideFocus",!0)):(i.css("outline",""),"hideFocus"in z[0]&&i.attr("hideFocus",!1))}function R(){i.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function $(){if(location.hash&&location.hash.length>1){var t,n,i=escape(location.hash.substr(1));try{t=e("#"+i+', a[name="'+i+'"]')}catch(s){return}t.length&&U.find(i)&&(0===z.scrollTop()?n=setInterval(function(){z.scrollTop()>0&&(O(t,!0),e(document).scrollTop(z.position().top),clearInterval(n))},50):(O(t,!0),e(document).scrollTop(z.position().top)))}}function L(){e(document.body).data("jspHijack")||(e(document.body).data("jspHijack",!0),e(document.body).delegate("a[href*=#]","click",function(n){var i,s,o,r,a,l,c=this.href.substr(0,this.href.indexOf("#")),u=location.href;if(-1!==location.href.indexOf("#")&&(u=location.href.substr(0,location.href.indexOf("#"))),c===u){i=escape(this.href.substr(this.href.indexOf("#")+1));try{s=e("#"+i+', a[name="'+i+'"]')}catch(d){return}s.length&&(o=s.closest(".jspScrollable"),r=o.data("jsp"),r.scrollToElement(s,!0),o[0].scrollIntoView&&(a=e(t).scrollTop(),l=s.offset().top,(a>l||l>a+e(t).height())&&o[0].scrollIntoView()),n.preventDefault())}}))}function B(){var e,t,n,i,s,o=!1;z.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(r){var a=r.originalEvent.touches[0];e=S(),t=E(),n=a.pageX,i=a.pageY,s=!1,o=!0}).bind("touchmove.jsp",function(r){if(o){var a=r.originalEvent.touches[0],l=it,c=et;return _t.scrollTo(e+n-a.pageX,t+i-a.pageY),s=s||Math.abs(n-a.pageX)>5||Math.abs(i-a.pageY)>5,l==it&&c==et}}).bind("touchend.jsp",function(){o=!1}).bind("click.jsp-touchclick",function(){return s?(s=!1,!1):void 0})}function H(){var e=E(),t=S();i.removeClass("jspScrollable").unbind(".jsp"),i.replaceWith(St.append(U.children())),St.scrollTop(e),St.scrollLeft(t),vt&&clearInterval(vt)}var F,U,q,W,z,V,G,X,Y,J,Q,K,Z,et,tt,nt,it,st,ot,rt,at,lt,ct,ut,dt,ht,pt,ft,mt,gt,vt,yt,bt,Tt,_t=this,wt=!0,Ct=!0,xt=!1,Ot=!1,St=i.clone(!1,!1).empty(),Et=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";yt=i.css("paddingTop")+" "+i.css("paddingRight")+" "+i.css("paddingBottom")+" "+i.css("paddingLeft"),bt=(parseInt(i.css("paddingLeft"),10)||0)+(parseInt(i.css("paddingRight"),10)||0),e.extend(_t,{reinitialise:function(t){t=e.extend({},F,t),o(t)},scrollToElement:function(e,t,n){O(e,t,n)},scrollTo:function(e,t,n){x(e,n),C(t,n)},scrollToX:function(e,t){x(e,t)},scrollToY:function(e,t){C(e,t)},scrollToPercentX:function(e,t){x(e*(V-q),t)},scrollToPercentY:function(e,t){C(e*(G-W),t)},scrollBy:function(e,t,n){_t.scrollByX(e,n),_t.scrollByY(t,n)},scrollByX:function(e,t){var n=S()+Math[0>e?"floor":"ceil"](e),i=n/(V-q);b(i*nt,t)},scrollByY:function(e,t){var n=E()+Math[0>e?"floor":"ceil"](e),i=n/(G-W);v(i*Z,t)},positionDragX:function(e,t){b(e,t)},positionDragY:function(e,t){v(e,t)},animate:function(e,t,n,i){var s={};s[t]=n,e.animate(s,{duration:F.animateDuration,easing:F.animateEase,queue:!1,step:i})},getContentPositionX:function(){return S()},getContentPositionY:function(){return E()},getContentWidth:function(){return V},getContentHeight:function(){return G},getPercentScrolledX:function(){return S()/(V-q)},getPercentScrolledY:function(){return E()/(G-W)},getIsScrollableH:function(){return Q},getIsScrollableV:function(){return J},getContentPane:function(){return U},scrollToBottom:function(e){v(Z,e)},hijackInternalLinks:e.noop,destroy:function(){H()}}),o(s)}return i=e.extend({},e.fn.jScrollPane.defaults,i),e.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){i[this]=i[this]||i.speed}),this.each(function(){var t=e(this),n=t.data("jsp");n?n.reinitialise(i):(e("script",t).filter('[type="text/javascript"],:not([type])').remove(),n=new s(t,i),t.data("jsp",n))})},e.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:n,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}(jQuery,this),function(e){window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}),e.fn.item=function(){var t=e(this).tmplItem().data;return e.isFunction(t.reload)?t.reload():null},e.fn.forItem=function(t){return this.filter(function(){var n=e(this).tmplItem().data;return t.eql&&t.eql(n)||t===n?!0:void 0})},e.fn.autolink=function(){return this.each(function(){var t=/((http|https|ftp):\/\/[\w?=&.\/-;#~%-]+(?![\w\s?&.\/;#~%"=-]*>))/g;e(this).html(e(this).html().replace(t,'<a href="$1">$1</a> '))})},e.fn.mailto=function(){return this.each(function(){var t=/(([a-z0-9*._+]){1,}\@(([a-z0-9]+[-]?){1,}[a-z0-9]+\.){1,}([a-z]{2,4}|museum)(?![\w\s?&.\/;#~%"=-]*>))/g;e(this).html(e(this).html().replace(t,'<a href="mailto:$1">$1</a>'))})},e.fn.imagesLoaded=function(e){function t(){e.call(o,i)}function n(){0>=--s&&this.src!==r&&(setTimeout(t),i.unbind("load error",n))}var i=this.find("img"),s=i.length,o=this,r="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";return s||t(),i.bind("load error",n).each(function(){if(this.complete||void 0===this.complete){var e=this.src;this.src=r,this.src=e}}),this},e.fn.addScrollExtension=function(){var t=this.jScrollPane({verticalGutter:-9}),n={extPluginOpts:{mouseLeaveFadeSpeed:500,hovertimeout_t:1e3,useTimeout:!1,deviceWidth:980},hovertimeout:null,isScrollbarHover:!1,elementtimeout:null,isScrolling:!1,addHoverFunc:function(){if(e(window).width()<=this.extPluginOpts.deviceWidth)return!1;var n=this;e.fn.jspmouseenter=e.fn.show,e.fn.jspmouseleave=e.fn.fadeOut;var i=this.getContentPane().siblings(".jspVerticalBar").hide();t.bind("mouseenter.jsp",function(){return i.stop(!0,!0).jspmouseenter(),n.extPluginOpts.useTimeout?(clearTimeout(n.hovertimeout),n.hovertimeout=setTimeout(function(){n.isScrolling||i.stop(!0,!0).jspmouseleave(n.extPluginOpts.mouseLeaveFadeSpeed||0)},n.extPluginOpts.hovertimeout_t),void 0):!1}).bind("mouseleave.jsp",function(){n.extPluginOpts.useTimeout?(clearTimeout(n.elementtimeout),n.isScrolling||i.stop(!0,!0).jspmouseleave(n.extPluginOpts.mouseLeaveFadeSpeed||0)):i.stop(!0,!0).jspmouseleave(n.extPluginOpts.mouseLeaveFadeSpeed||0)}),this.extPluginOpts.useTimeout&&(t.bind("scrollstart.jsp",function(){clearTimeout(n.hovertimeout),n.isScrolling=!0,i.stop(!0,!0).jspmouseenter()}).bind("scrollstop.jsp",function(){clearTimeout(n.hovertimeout),n.isScrolling=!1,n.hovertimeout=setTimeout(function(){n.isScrollbarHover||i.stop(!0,!0).jspmouseleave(n.extPluginOpts.mouseLeaveFadeSpeed||0)},n.extPluginOpts.hovertimeout_t)}),e("<div/>").css({position:"absolute",left:i.css("left"),top:i.css("top"),right:i.css("right"),bottom:i.css("bottom"),width:i.width(),height:i.height()}).bind("mouseenter.jsp",function(){clearTimeout(n.hovertimeout),clearTimeout(n.elementtimeout),n.isScrollbarHover=!0,n.elementtimeout=setTimeout(function(){i.stop(!0,!0).jspmouseenter()},100)}).bind("mouseleave.jsp",function(){clearTimeout(n.hovertimeout),n.isScrollbarHover=!1,n.hovertimeout=setTimeout(function(){n.isScrolling||i.stop(!0,!0).jspmouseleave(n.extPluginOpts.mouseLeaveFadeSpeed||0)},n.extPluginOpts.hovertimeout_t)}))}},i=t.data().jsp;return t.find(".jspVerticalBar").css({opacity:"0.8"}),e.extend(!0,i,n),i.addHoverFunc(),i}}(jQuery),function(e){e.ajaxTransport("+*",function(e){var t;return e.useXHR2?{send:function(n,s){t=e.xhr(),t.open(e.type,e.url,e.async),delete n["Content-Type"],n["X-Requested-With"]="XMLHttpRequest";for(i in n)t.setRequestHeader(i,n[i]);var o=function(){var e={xml:t.responseXML,text:t.responseText};s(t.status,t.statusText,e,t.getAllResponseHeaders())};t.addEventListener("load",o),t.addEventListener("error",o),e.progress&&t.addEventListener("progress",e.progress),e.upload&&e.upload.success&&t.upload.addEventListener("load",e.upload.load),e.upload&&e.upload.progress&&t.upload.addEventListener("progress",e.upload.progress),t.send(e.data)},abort:function(){t&&t.abort()}}:void 0});var t={processData:!1,contentType:!1,type:"POST",useXHR2:!0,upload:{}};e.upload=function(n,i,s){var o=new FormData;i instanceof File&&(i={file:i});for(var r in i)o.append(r,i[r]);return"function"==typeof s&&(s={success:s}),s.url=n,s.data=o,s=e.extend({},t,s),e.ajax(s)}}(jQuery),function(e){function t(t,n,i,s){var o={data:s||(n?n.data:{}),_wrap:n?n._wrap:null,tmpl:null,parent:n||null,nodes:[],calls:c,nest:u,wrap:d,html:h,update:p};return t&&e.extend(o,t,{nodes:[],parent:n}),i&&(o.tmpl=i,o._ctnt=o._ctnt||o.tmpl(e,o),o.key=++_,(C.length?b:y)[_]=o),o}function n(t,s,o){var r,a=o?e.map(o,function(e){return"string"==typeof e?t.key?e.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+g+'="'+t.key+'" $2'):e:n(e,t,e._ctnt)}):t;return s?a:(a=a.join(""),a.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(t,n,s,o){r=e(s).get(),l(r),n&&(r=i(n).concat(r)),o&&(r=r.concat(i(o)))}),r?r:i(a))}function i(t){var n=document.createElement("div");return n.innerHTML=t,e.makeArray(n.childNodes)}function s(t){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+e.trim(t).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(t,n,i,s,o,a,l){var c,u,d,h=e.tmpl.tag[i];if(!h)throw"Template command not found: "+i;return c=h._default||[],a&&!/\w$/.test(o)&&(o+=a,a=""),o?(o=r(o),l=l?","+r(l)+")":a?")":"",u=a?o.indexOf(".")>-1?o+a:"("+o+").call($item"+l:o,d=a?u:"(typeof("+o+")==='function'?("+o+").call($item):("+o+"))"):d=u=c.$1||"null",s=r(s),"');"+h[n?"close":"open"].split("$notnull_1").join(o?"typeof("+o+")!=='undefined' && ("+o+")!=null":"true").split("$1a").join(d).split("$1").join(u).split("$2").join(s?s.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,function(e,t,n,i){return i=i?","+i+")":n?")":"",i?"("+t+").call($item"+i:e}):c.$2||"")+"_.push('"})+"');}return _;")}function o(t,i){t._wrap=n(t,!0,e.isArray(i)?i:[v.test(i)?i:e(i).html()]).join("")}function r(e){return e?e.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function a(e){var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}function l(n){function i(n){function i(e){e+=c,r=u[e]=u[e]||t(r,y[r.parent.key+c]||r.parent,null,!0)}var s,o,r,a,l=n;if(a=n.getAttribute(g)){for(;l.parentNode&&1===(l=l.parentNode).nodeType&&!(s=l.getAttribute(g)););s!==a&&(l=l.parentNode?11===l.nodeType?0:l.getAttribute(g)||0:0,(r=y[a])||(r=b[a],r=t(r,y[l]||b[l],null,!0),r.key=++_,y[_]=r),w&&i(a)),n.removeAttribute(g)}else w&&(r=e.data(n,"tmplItem"))&&(i(r.key),y[r.key]=r,l=e.data(n.parentNode,"tmplItem"),l=l?l.key:0);if(r){for(o=r;o&&o.key!=l;)o.nodes.push(n),o=o.parent;delete r._ctnt,delete r._wrap,e.data(n,"tmplItem",r)}}var s,o,r,a,l,c="_"+w,u={};for(r=0,a=n.length;a>r;r++)if(1===(s=n[r]).nodeType){for(o=s.getElementsByTagName("*"),l=o.length-1;l>=0;l--)i(o[l]);i(s)}}function c(e,t,n,i){return e?(C.push({_:e,tmpl:t,item:this,data:n,options:i}),void 0):C.pop()}function u(t,n,i){return e.tmpl(e.template(t),n,i,this)}function d(t,n){var i=t.options||{};return i.wrapped=n,e.tmpl(e.template(t.tmpl),t.data,i,t.item)}function h(t,n){var i=this._wrap;return e.map(e(e.isArray(i)?i.join(""):i).filter(t||"*"),function(e){return n?e.innerText||e.textContent:e.outerHTML||a(e)})}function p(){var t=this.nodes;e.tmpl(null,null,null,this).insertBefore(t[0]),e(t).remove()}var f,m=e.fn.domManip,g="_tmplitem",v=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,y={},b={},T={key:0,data:{}},_=0,w=0,C=[];e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,n){e.fn[t]=function(i){var s,o,r,a,l=[],c=e(i),u=1===this.length&&this[0].parentNode;if(f=y||{},u&&11===u.nodeType&&1===u.childNodes.length&&1===c.length)c[n](this[0]),l=this;else{for(o=0,r=c.length;r>o;o++)w=o,s=(o>0?this.clone(!0):this).get(),e.fn[n].apply(e(c[o]),s),l=l.concat(s);w=0,l=this.pushStack(l,t,c.selector)}return a=f,f=null,e.tmpl.complete(a),l}}),e.fn.extend({tmpl:function(t,n,i){return e.tmpl(this[0],t,n,i)},tmplItem:function(){return e.tmplItem(this[0])},template:function(t){return e.template(t,this[0])},domManip:function(t,n,i){if(t[0]&&t[0].nodeType){for(var s,o=e.makeArray(arguments),r=t.length,a=0;r>a&&!(s=e.data(t[a++],"tmplItem")););r>1&&(o[0]=[e.makeArray(t)]),s&&w&&(o[2]=function(t){e.tmpl.afterManip(this,t,i)}),m.apply(this,o)}else m.apply(this,arguments);return w=0,!f&&e.tmpl.complete(y),this}}),e.extend({tmpl:function(i,s,r,a){var l,c=!a;if(c)a=T,i=e.template[i]||e.template(null,i),b={};else if(!i)return i=a.tmpl,y[a.key]=a,a.nodes=[],a.wrapped&&o(a,a.wrapped),e(n(a,null,a.tmpl(e,a)));return i?("function"==typeof s&&(s=s.call(a||{})),r&&r.wrapped&&o(r,r.wrapped),l=e.isArray(s)?e.map(s,function(e){return e?t(r,a,i,e):null}):[t(r,a,i,s)],c?e(n(a,null,l)):l):[]},tmplItem:function(t){var n;for(t instanceof e&&(t=t[0]);t&&1===t.nodeType&&!(n=e.data(t,"tmplItem"))&&(t=t.parentNode););return n||T},template:function(t,n){return n?("string"==typeof n?n=s(n):n instanceof e&&(n=n[0]||{}),n.nodeType&&(n=e.data(n,"tmpl")||e.data(n,"tmpl",s(n.innerHTML))),"string"==typeof t?e.template[t]=n:n):t?"string"!=typeof t?e.template(null,t):e.template[t]||e.template(null,v.test(t)?t:e(t)):null},encode:function(e){return(""+e).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),e.extend(e.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){y={}},afterManip:function(t,n,i){var s=11===n.nodeType?e.makeArray(n.childNodes):1===n.nodeType?[n]:[];i.call(t,n),l(s),w++}})}(jQuery),function(){var e;e="undefined"!=typeof exports?exports:this.Spine={},e.version="0.0.3";var t=e.$=this.jQuery||this.Zepto,n=e.makeArray=function(e){return Array.prototype.slice.call(e,0)},i=e.Events={bind:function(e,t){var n=e.split(" ");this._callbacks||(this._callbacks={});for(var i=0;n.length>i;i++)(this._callbacks[n[i]]||(this._callbacks[n[i]]=[])).push(t);return this},trigger:function(){var e,t,i,s,o=n(arguments),r=o.shift();if(!(t=this._callbacks))return this;if(!(e=this._callbacks[r]))return this;for(i=0,s=e.length;s>i;i++)if(e[i].apply(this,o)===!1)return!1;return this},unbind:function(e,t){if(!e)return this._callbacks={},this;var n,i,s,o;if(!(i=this._callbacks))return this;if(!(n=this._callbacks[e]))return this;for(s=0,o=n.length;o>s;s++)if(t===n[s]){n.splice(s,1);break}return this}},s=e.Log={trace:!0,logPrefix:"(App)",log:function(){if(this.trace&&"undefined"!=typeof console){var e=n(arguments);return this.logPrefix&&e.unshift(this.logPrefix),console.log.apply(console,e),this}}};"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t});var o=["included","extended"],r=e.Class={inherited:function(){},created:function(){},prototype:{initializer:function(){},init:function(){}},create:function(e,t){var n=Object.create(this);return n.parent=this,n.prototype=n.fn=Object.create(this.prototype),e&&n.include(e),t&&n.extend(t),n.created(),this.inherited(n),n},init:function(){var e=Object.create(this.prototype);return e.parent=this,e.initializer.apply(e,arguments),e.init.apply(e,arguments),e},proxy:function(e){var t=this;return function(){return e.apply(t,arguments)}},proxyAll:function(){for(var e=n(arguments),t=0;e.length>t;t++)this[e[t]]=this.proxy(this[e[t]])},include:function(e){for(var t in e)-1==o.indexOf(t)&&(this.fn[t]=e[t]);var n=e.included;return n&&n.apply(this),this},extend:function(e){for(var t in e)-1==o.indexOf(t)&&(this[t]=e[t]);var n=e.extended;return n&&n.apply(this),this}};r.prototype.proxy=r.proxy,r.prototype.proxyAll=r.proxyAll,r.inst=r.init,e.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random(),n="x"==e?t:8|3&t;return n.toString(16)}).toUpperCase()};var a=e.Model=r.create();a.extend(i),a.createSub=a.create,a.setup=function(e,t){var n=a.createSub();return e&&(n.name=e),t&&(n.attributes=t),n},a.extend({created:function(){this.records={},this.attributes=[],this.bind("create",this.proxy(function(e){this.trigger("change","create",e)})),this.bind("update",this.proxy(function(e){this.trigger("change","update",e)})),this.bind("destroy",this.proxy(function(e){this.trigger("change","destroy",e)}))},find:function(e){var t=this.records[e];if(!t)throw"Unknown record";return t.dup()},exists:function(e){try{return this.find(e)}catch(t){return!1}},refresh:function(e){this.records={};for(var t=0,n=e.length;n>t;t++){var i=this.init(e[t]);i.newRecord=!1,this.records[i.id]=i}this.trigger("refresh")},select:function(e){var t=[];for(var n in this.records)e(this.records[n])&&t.push(this.records[n]);return this.dupArray(t)},findByAttribute:function(e,t){for(var n in this.records)if(this.records[n][e]==t)return this.records[n].dup()},findAllByAttribute:function(e,t){return this.select(function(n){return n[e]==t})},each:function(e){for(var t in this.records)e(this.records[t])},all:function(){return this.dupArray(this.recordsValues())},first:function(){var e=this.recordsValues()[0];return e&&e.dup()},last:function(){var e=this.recordsValues(),t=e[e.length-1];return t&&t.dup()},count:function(){return this.recordsValues().length},deleteAll:function(){for(var e in this.records)delete this.records[e]},destroyAll:function(){for(var e in this.records)this.records[e].destroy()},update:function(e,t){this.find(e).updateAttributes(t)},create:function(e){var t=this.init(e);return t.save(),t},destroy:function(e){this.find(e).destroy()},sync:function(e){this.bind("change",e)},fetch:function(e){e?this.bind("fetch",e):this.trigger("fetch")},toJSON:function(){return this.recordsValues()},recordsValues:function(){var e=[];for(var t in this.records)e.push(this.records[t]);return e},dupArray:function(e){for(var t=[],n=0;e.length>n;n++)t.push(e[n].dup());return t}}),a.include({model:!0,newRecord:!0,init:function(e){e&&this.load(e)},isNew:function(){return this.newRecord},validate:function(){},load:function(e){for(var t in e)this[t]=e[t]},attributes:function(){for(var e={},t=0;this.parent.attributes.length>t;t++){var n=this.parent.attributes[t];e[n]=this[n]}return e.id=this.id,e},eql:function(e){return e&&e.id===this.id&&e.parent===this.parent},save:function(){var e=this.validate();if(e&&!this.trigger("error",e))throw"Validation failed: "+e;this.trigger("beforeSave"),this.newRecord?this.create():this.update(),this.trigger("save")},updateAttribute:function(e,t){return this[e]=t,this.save()},updateAttributes:function(e){return this.load(e),this.save()},destroy:function(){this.trigger("beforeDestroy"),delete this.parent.records[this.id],this.trigger("destroy")},dup:function(){var e=this.parent.init(this.attributes());return e.newRecord=this.newRecord,e},reload:function(){return this.parent.find(this.id)},toJSON:function(){return this.attributes()},exists:function(){return this.id&&this.id in this.parent.records},update:function(){this.trigger("beforeUpdate"),this.parent.records[this.id]=this.dup(),this.trigger("update")},create:function(){this.trigger("beforeCreate"),this.id||(this.id=e.guid()),this.newRecord=!1,this.parent.records[this.id]=this.dup(),this.trigger("create")},bind:function(e,t){this.parent.bind(e,this.proxy(function(e){e&&this.eql(e)&&t.apply(this,arguments)}))},trigger:function(){var e=n(arguments);e.splice(1,0,this),this.parent.trigger.apply(this.parent,e)}});var l=/^(\w+)\s*(.*)$/,c=e.Controller=r.create({tag:"div",initializer:function(e){this.options=e;for(var n in this.options)this[n]=this.options[n];this.el||(this.el=document.createElement(this.tag)),this.el=t(this.el),this.events||(this.events=this.parent.events),this.elements||(this.elements=this.parent.elements),this.events&&this.delegateEvents(),this.elements&&this.refreshElements(),this.proxied&&this.proxyAll.apply(this,this.proxied)},$:function(e){return t(e,this.el)},delegateEvents:function(){for(var e in this.events){var t=this.events[e],n=this.proxy(this[t]),i=e.match(l),s=i[1],o=i[2];""===o?this.el.bind(s,n):this.el.delegate(o,s,n)}},refreshElements:function(){for(var e in this.elements)this[this.elements[e]]=this.$(e)},delay:function(e,t){setTimeout(this.proxy(e),t||0)}});c.include(i),c.include(s),e.App=c.create({create:function(e){return this.parent.include(e),this}}).init(),c.fn.App=e.App}(),jQuery(function(e){window.BrowsePhoto=Spine.Controller.create({elements:{},events:{},proxied:["activate","deactivate","onMouseOver","change"],template:function(){},init:function(){this.input=e("<input type='file'  multiple accept='image/*'>"),this.input.css({position:"fixed","z-index":1060,cursor:"pointer","-moz-opacity":"0",filter:"alpha(opacity: 0)",opacity:"0"}),this.input.mouseover(this.proxy(function(){this.el.addClass("upload_btn-hover"),this.input.attr("title","")})),this.input.mouseout(this.proxy(function(){this.el.removeClass("upload_btn-hover"),this.input.detach()})),this.input.focus(this.proxy(function(){this.el.addClass("upload_btn-focus")})),this.input.blur(this.proxy(function(){this.el.removeClass("upload_btn-focus")})),console.log(this.el)},deActivate:function(){this.input.off("change.post_photo"),this.el.off("mouseover.post_browse"),console.log("deActivate")},activate:function(){console.log("input",this.input),this.input.on("change.post_photo",this.change),this.el.on("mouseover.post_browse",this.onMouseOver),console.log("activate")},change:function(e){return console.log("change"),this.onChange&&this.onChange.call(null,e),!1},onMouseOver:function(){return this.input.offset(this.el.offset()),this.input.width(this.el.outerWidth()),this.input.height(this.el.outerHeight()),e("body").append(this.input),!1}})}),jQuery(function(e){window.ProfilePhotoUpload=Spine.Controller.create({elements:{" .status":"progressStatus",".progress  .bar":"progressBar"},events:{},proxied:["upload","onUpload","uploadProgress","uploadError","uploadSuccess"],template:function(){},init:function(){},show:function(){this.el.html(this.render()),this.status=this.el.find(".status"),this.progressBar=this.el.find(".bar")},render:function(){return e("#post-upload-progress-tmpl").tmpl("")},upload:function(t,n,i,s){console.log("upload",n[0]),this.files=n,this.succCallback=i,this.errorCallback=s,this.show(),e.upload(t,{photo:n[0]},{contentType:"JSON",upload:{progress:this.uploadProgress,load:this.onUpload},error:this.uploadError,success:this.uploadSuccess})
},uploadSuccess:function(e){console.log("success",e),this.succCallback&&this.succCallback.call(null,e),this.el.empty()},uploadError:function(e){this.showError(),this.errorCallback&&this.errorCallback.call(null,e)},uploadProgress:function(e){percentage=Math.round(100*(e.position/e.total)),console.log("progress",e),this.status&&this.status.text("uploading..."+percentage+"%"),this.progressBar&&this.progressBar.css({width:percentage+"%"})},onUpload:function(e){console.log("load",e)},uploadPhoto:function(){this.uploadPhotos.show()},showError:function(){this.el.html(e("#post-upload-error-tmpl").tmpl(""))}})}),jQuery(function(e){window.Application=Spine.Controller.create({elements:{".photo_chooser":"photoPicker","#profile_upload_photo_preview":"profileUploadPreview","#profile_upload_photo":"profileUpload",".tag-input":"tagInput"},events:{},proxied:["uploadPhoto","onUpload","uploadError"],template:function(){},init:function(){this.profilePhotoUpload=ProfilePhotoUpload.init({el:this.profileUpload}),this.browsePhoto=BrowsePhoto.init({el:this.photoPicker,onChange:this.uploadPhoto}),this.browsePhoto.activate(),console.log("init"),this.uploadUrl=this.profileUpload.data("upload_url"),console.log("upload url",this.profileUpload),this.tagInput.length>0&&this.tagInput.listbuilder({width:"100%",url:"/tags",jsonContainer:"tags",hintText:"type a name and press enter or comma."})},uploadPhoto:function(e){event=e.originalEvent,this.files=event.target.files,this.files.length>0&&(this.photoPicker.addClass("disabled"),this.browsePhoto.deActivate(),this.profilePhotoUpload.upload(this.uploadUrl,this.files,this.onUpload,this.uploadError))},uploadError:function(){this.photoPicker.removeClass("disabled").removeClass("active"),this.browsePhoto.activate(),this.showPhotoPreview()},onUpload:function(e){console.log("data",e),this.photoPicker.removeClass("disabled").removeClass("active"),this.browsePhoto.activate(),this.showPhotoPreview(e.photo_url)},showPhotoPreview:function(t){var n=e("#post-upload-preview-tmpl").tmpl({src:t}),i=this.profileUploadPreview.html(n).find(".image-container"),s=this.profileUploadPreview.find(".loading_pane");s.show(),this.profileUploadPreview.hide(),i.imagesLoaded(this.proxy(function(){s.hide(),i.append('<span class="prev_status">change photo</span>'),preview=this.profileUploadPreview.find(".preview"),this.photoPicker.hide().replaceWith(preview),this.photoPicker=preview,this.photoPicker.show(),this.browsePhoto.deActivate(),this.browsePhoto=BrowsePhoto.init({el:this.photoPicker,onChange:this.uploadPhoto}),this.browsePhoto.activate(),console.log(this.photoPicker),this.profileUploadPreview.empty()}))}}),Application.init({el:e("body")})});